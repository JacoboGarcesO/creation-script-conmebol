# CONMEBOL Database Script

Este repositorio contiene el script SQL para la creación de la base de datos CONMEBOL, que incluye tablas para jugadores, selecciones, managers, patrocinadores y más.

## Script SQL

```sql
DROP TABLE IF EXISTS CONTRATA CASCADE;
DROP TABLE IF EXISTS PATROCINA CASCADE;
DROP TABLE IF EXISTS REPRESENTA CASCADE;
DROP TABLE IF EXISTS JUNIOR CASCADE;
DROP TABLE IF EXISTS SENIOR CASCADE;
DROP TABLE IF EXISTS CELULARJUGADOR CASCADE;
DROP TABLE IF EXISTS JUGADOR CASCADE;
DROP TABLE IF EXISTS SELECCION CASCADE;
DROP TABLE IF EXISTS CELULARMANAGER CASCADE;
DROP TABLE IF EXISTS CORREOMANAGER CASCADE;
DROP TABLE IF EXISTS MANAGER CASCADE;
DROP TABLE IF EXISTS MARCA CASCADE;
DROP TABLE IF EXISTS PAIS CASCADE;
DROP TABLE IF EXISTS CIUDAD CASCADE;
DROP TABLE IF EXISTS PATROCINADOR CASCADE;

CREATE TABLE PATROCINADOR (
  NITPATRO INTEGER PRIMARY KEY,
  RAZONSOCIAL VARCHAR(40) NOT NULL,
  ANIOFUNDACION DATE NOT NULL,
  ANTIGUEDAD INTEGER NOT NULL
);

CREATE TABLE CIUDAD (
  IDCIUDAD SERIAL PRIMARY KEY,
  NOMBRE VARCHAR(30) NOT NULL,
  CANTHABITANTES INTEGER NOT NULL
);

CREATE TABLE PAIS (
  IDPAIS INTEGER GENERATED ALWAYS AS IDENTITY (START WITH 10 INCREMENT BY 10) PRIMARY KEY,
  NOMBRE VARCHAR(30) UNIQUE NOT NULL,
  CANTHABITANTES INTEGER NOT NULL
);

CREATE TABLE MANAGER (
  DNIMANAGER INTEGER PRIMARY KEY,
  NOMBRE VARCHAR(30) NOT NULL,
  FECHANACIMIENTO DATE NOT NULL,
  EDAD INTEGER NOT NULL
);

CREATE TABLE CORREOMANAGER (
  DNIMANAGER INTEGER,
  CORREO VARCHAR(30) NOT NULL,
  PRIMARY KEY (CORREO, DNIMANAGER),
  FOREIGN KEY (DNIMANAGER) REFERENCES MANAGER(DNIMANAGER) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE CELULARMANAGER (
  DNIMANAGER INTEGER,
  CELULAR BIGINT NOT NULL,
  PRIMARY KEY (CELULAR, DNIMANAGER),
  FOREIGN KEY (DNIMANAGER) REFERENCES MANAGER(DNIMANAGER) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE SELECCION (
  IDSELECCION INTEGER GENERATED ALWAYS AS IDENTITY (START WITH 100 INCREMENT BY 100) PRIMARY KEY,
  IDCIUDAD INTEGER,
  NOMBRE VARCHAR(30) UNIQUE NOT NULL,
  CANTMUNJUG INTEGER NOT NULL,
  CANTMUNGAN INTEGER NOT NULL,
  FOREIGN KEY (IDCIUDAD) REFERENCES CIUDAD(IDCIUDAD) ON DELETE SET NULL ON UPDATE CASCADE
);

CREATE TABLE JUGADOR (
  IDSELECCION INTEGER NOT NULL,
  NUMCAMISETA INTEGER NOT NULL,
  NOMBRE VARCHAR(40) NOT NULL,
  FECHANAC DATE NOT NULL,
  EDAD INTEGER,
  BONIFICACIONTOTAL NUMERIC(18,2) DEFAULT 0,
  PRIMARY KEY (NUMCAMISETA, IDSELECCION),
  FOREIGN KEY (IDSELECCION) REFERENCES SELECCION(IDSELECCION) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE CELULARJUGADOR (
  NUMCAMISETA INTEGER NOT NULL,
  IDSELECCION INTEGER NOT NULL,
  CELULAR BIGINT NOT NULL,
  PRIMARY KEY (NUMCAMISETA, IDSELECCION, CELULAR),
  FOREIGN KEY (NUMCAMISETA, IDSELECCION) REFERENCES JUGADOR(NUMCAMISETA, IDSELECCION) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE MARCA (
  NITMARCA INTEGER PRIMARY KEY,
  NOMBRE VARCHAR(30) UNIQUE NOT NULL,
  AREA VARCHAR(30) NOT NULL,
  IDPAIS INTEGER,
  FOREIGN KEY (IDPAIS) REFERENCES PAIS(IDPAIS) ON DELETE SET NULL ON UPDATE CASCADE
);

CREATE TABLE SENIOR (
  NUMCAMISETA INTEGER NOT NULL,
  IDSELECCION INTEGER NOT NULL,
  ANIOINICIO INTEGER NOT NULL,
  ANIOSEXPE INTEGER NOT NULL,
  PRIMARY KEY (NUMCAMISETA, IDSELECCION),
  FOREIGN KEY (NUMCAMISETA, IDSELECCION) REFERENCES JUGADOR(NUMCAMISETA, IDSELECCION) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE JUNIOR (
  NUMCAMISETA INTEGER NOT NULL,
  IDSELECCION INTEGER NOT NULL,
  PRIMEREQUIPO VARCHAR(30) NOT NULL,
  PRIMARY KEY (NUMCAMISETA, IDSELECCION),
  FOREIGN KEY (NUMCAMISETA, IDSELECCION) REFERENCES JUGADOR(NUMCAMISETA, IDSELECCION) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE REPRESENTA (
  NUMCAMISETA INTEGER NOT NULL,
  IDSELECCION INTEGER NOT NULL,
  DNIMANAGER INTEGER NOT NULL,
  PRIMARY KEY (NUMCAMISETA, IDSELECCION, DNIMANAGER),
  FOREIGN KEY (NUMCAMISETA, IDSELECCION) REFERENCES JUGADOR(NUMCAMISETA, IDSELECCION) ON DELETE CASCADE ON UPDATE CASCADE,
  FOREIGN KEY (DNIMANAGER) REFERENCES MANAGER(DNIMANAGER) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE PATROCINA (
  NITPATRO INTEGER NOT NULL,
  IDSELECCION INTEGER NOT NULL,
  VALORPATROCINIO NUMERIC(18,2) NOT NULL,
  PRIMARY KEY (NITPATRO, IDSELECCION),
  FOREIGN KEY (NITPATRO) REFERENCES PATROCINADOR(NITPATRO) ON DELETE CASCADE ON UPDATE CASCADE,
  FOREIGN KEY (IDSELECCION) REFERENCES SELECCION(IDSELECCION) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE CONTRATA (
  NUMCAMISETA INTEGER NOT NULL,
  IDSELECCION INTEGER NOT NULL,
  NITMARCA INTEGER NOT NULL,
  VALORCONTRATO NUMERIC(18,2) NOT NULL,
  FECHAINICIO DATE NOT NULL,
  FECHAFINAL DATE NOT NULL,
  PRIMARY KEY (NUMCAMISETA, IDSELECCION, NITMARCA),
  FOREIGN KEY (NUMCAMISETA, IDSELECCION) REFERENCES JUGADOR(NUMCAMISETA, IDSELECCION) ON DELETE CASCADE ON UPDATE CASCADE,
  FOREIGN KEY (NITMARCA) REFERENCES MARCA(NITMARCA) ON DELETE CASCADE ON UPDATE CASCADE
);

INSERT INTO CIUDAD (NOMBRE, CANTHABITANTES)
VALUES
  ('Buenos Aires', 2891000),
  ('Rio de Janeiro', 6630000),
  ('Montevideo', 1370000),
  ('Asunción', 525000),
  ('Lima', 9570000),
  ('Quito', 2760000),
  ('La Paz', 757000),
  ('Barranquilla', 7306000),
  ('Santiago', 2006000),
  ('Maracaibo', 4006000),
  ('Sao Pablo', 7006000),
  ('Bogotá', 6006000),
  ('El Cusco', 8006000),
  ('Quito', 1006000),
  ('Caracas', 2845000);

INSERT INTO
    PAIS (NOMBRE, CANTHABITANTES)
VALUES
    ('Italia', 3461734),
    ('Panama', 7132538),
    ('España', 32971854),
    ('Alemania', 50882891),
    ('Canada', 30082891),
    ('Colombia', 30082891),
    ('Brasil', 30082891),
    ('Portugal', 30082891),
    ('USA', 28435943),
    ('Argentina', 4345943);

INSERT INTO SELECCION (IDCIUDAD, NOMBRE, CANTMUNJUG, CANTMUNGAN)
VALUES
  (1, 'Argentina', 9, 2),
  (2, 'Brasil', 10, 5),
  (3, 'Uruguay', 8, 2),
  (4, 'Paraguay', 7, 0),
  (5, 'Perú', 5, 0),
  (6, 'Ecuador', 5, 0),
  (7, 'Bolivia', 2, 0),
  (8, 'Colombia', 7, 0),
  (9, 'Chile', 7, 0),
  (10, 'Venezuela', 2, 0);

INSERT INTO MANAGER (DNIMANAGER, NOMBRE, FECHANACIMIENTO, EDAD)
VALUES
  (101, 'Juan Perez', '1975-03-10', 48),
  (102, 'Maria Rodriguez', '1982-08-25', 41),
  (103, 'Pedro Gomez', '1968-11-15', 57),
  (104, 'Dario Ruiz', '1968-11-15', 57);

INSERT INTO CORREOMANAGER (CORREO, DNIMANAGER)
VALUES
  ('juan.perez@gmail.com', 101),
  ('juanp@gmail.com', 101),
  ('maria.rodriguez@gmail.com', 102),
  ('pedro.gomez@gmail.com', 103),
  ('dario.ruiz@gmail.com', 104);

INSERT INTO CELULARMANAGER ( DNIMANAGER,CELULAR)
VALUES
  (101, 555123456),
  (102, 555987654),
  (102, 312696609),
  (103, 555111222),
  (104, 315515560);

INSERT INTO JUGADOR (NUMCAMISETA, IDSELECCION,  NOMBRE, FECHANAC, EDAD)
VALUES
  (10, 100, 'Lionel Messi', '1987-06-24', 36),
  (7,  100, 'Angel Di Maria', '1990-05-20', 33),
  (11, 100, 'Gonzalo Higuain', '1987-12-10', 35),
  (12, 100, 'Paulo Dybala', '1993-11-15', 28),
  (13, 100, 'Nicolas Otamendi', '1988-02-12', 34),
  (14, 100, 'Giovani Lo Celso', '1996-04-09', 26),
  (15, 100, 'Erik Lamela', '1992-03-04', 29),
  (16, 100, 'Lucas Alario', '1992-10-08', 31),
  (17, 100, 'Juan Foyth', '1998-01-12', 24),
  (18, 100, 'Alexis Mac Allister', '1998-12-24', 23),
  (19, 100, 'Emiliano Martinez', '1992-09-02', 31),
  (20, 100, 'German Pezzella', '1991-06-27', 30),
  (21, 100, 'Marcos Acuña', '1991-10-28', 30),
  (22, 100, 'Nahuel Molina', '1998-10-21', 23),
  (23, 100, 'Guido Rodriguez', '1994-04-12', 28),
  (24, 100, 'Nahuel Guzmán', '1986-02-10', 36),
  (25, 100, 'Lucas Ocampos', '1994-07-11', 27),
  (26, 100, 'Cristian Romero', '1998-04-27', 24),
  (27, 100, 'Nicolas Tagliafico', '1992-08-31', 29),
  (28, 100, 'Lucas Martinez Quarta', '1996-02-10', 27),
  (10, 200, 'Neymar Jr', '1992-02-05', 31),
  (7,  200, 'Rodrygo Goes', '2000-01-05', 23),
  (11, 200, 'Thiago Silva', '1984-09-22', 39),
  (12, 200, 'Marquinhos', '1994-05-14', 27),
  (13, 200, 'Casemiro', '1992-02-23', 31),
  (14, 200, 'Philippe Coutinho', '1992-06-12', 29),
  (15, 200, 'Fabinho', '1993-10-23', 28),
  (16, 200, 'Gabriel Jesus', '1997-04-03', 24),
  (17, 200, 'Allan', '1991-01-08', 30),
  (18, 200, 'Everton Ribeiro', '1988-05-10', 33),
  (19, 200, 'Ederson', '1993-08-17', 28),
  (20, 200, 'Richarlison', '1997-05-10', 24),
  (21, 200, 'Renan Lodi', '1998-04-08', 23),
  (22, 200, 'Fred', '1993-03-05', 28),
  (23, 200, 'Eder Militao', '1998-01-18', 24),
  (24, 200, 'Lucas Paqueta', '1997-08-27', 26),
  (25, 200, 'Emerson', '1999-01-14', 23),
  (26, 200, 'Lucas Verissimo', '1995-02-27', 26),
  (27, 200, 'Guilherme Arana', '1997-04-14', 24),
  (28, 200, 'Gerson', '1997-05-20', 24),
  (10, 300, 'Giorgian Arrascaeta', '2001-10-20', 22),
  (7,  300, 'Luis Suárez', '1987-01-24', 36);

INSERT INTO CELULARJUGADOR (NUMCAMISETA, IDSELECCION, CELULAR)
VALUES
  (10, 100, 555888999),
  (10, 100, 555777666),
  (7, 300, 301322327),
  (10, 300, 555666555);

INSERT INTO MARCA (NITMARCA, NOMBRE, AREA, IDPAIS)
VALUES
  (1001, 'Nike', 'Deportes', 60),
  (1002, 'Adidas', 'Deportes', 40),
  (1003, 'Puma', 'Deportes', 40),
  (1004, 'Coca-Cola', 'Bebidas', 60),
  (1005, 'POSTOBON', 'Bebidas', 100),
  (1006, 'BAVARIA', 'Bebidas', NULL),
  (1007, 'HACEB', 'ELECTRODOMESTICOS', NULL);

INSERT INTO SENIOR (NUMCAMISETA, IDSELECCION, ANIOINICIO, ANIOSEXPE)
VALUES
  (10, 100, 2010, 13),
  (7,  100, 2009, 14),
  (10, 200, 2011, 12),
  (7,  300, 2008, 15),
  (11, 100, 2010, 13 ),
  (12, 100, 2011, 12),
  (13, 100, 2010, 13),
  (14, 100, 2011, 12),
  (15, 100, 2010, 13),
  (16, 100, 2008, 15),
  (19, 100, 2010, 13),
  (20, 100, 2010, 13),
  (21, 100, 2008, 15),
  (23, 100, 2010, 13),
  (24, 100, 2010, 13),
  (25, 100, 2010, 13),
  (27, 100, 2008, 15),
  (28, 100, 2010, 13),
  (11, 200, 2011, 12),
  (12, 200, 2008, 15),
  (13, 200, 2011, 12),
  (14, 200, 2011, 12),
  (15, 200, 2011, 12),
  (17, 200, 2008, 15),
  (18, 200, 2010, 13),
  (19, 200, 2011, 12),
  (22, 200, 2008, 15),
  (24, 200, 2011, 12),
  (26, 200, 2010, 13);

INSERT INTO JUNIOR (NUMCAMISETA, IDSELECCION, PRIMEREQUIPO)
VALUES
  (10, 300, 'Santos'),
  (7,  200, 'Nacional de Montevideo'),
  (17, 100, 'San Lorenzo'),
  (18, 100, 'River Plate'),
  (22, 100, 'Argentinos'),
  (26, 100, 'Boca Juniors'),
  (16, 200, 'Palmeiras'),
  (20, 200, 'Santos'),
  (21, 200, 'Palmeiras'),
  (23, 200, 'Gremio'),
  (25, 200, 'Paranaense'),
  (27, 200, 'Palmeiras'),
  (28, 200, 'Palmeiras');

INSERT INTO REPRESENTA (NUMCAMISETA, IDSELECCION, DNIMANAGER)
VALUES
  (10, 100, 101),
  (7, 100, 101),
  (10, 200, 102),
  (7, 300, 103);

INSERT INTO PATROCINADOR (NITPATRO, RAZONSOCIAL, ANIOFUNDACION, ANTIGUEDAD)
VALUES
  (5001, 'Coca-Cola', '1920-04-15', 101),
  (5002, 'PepsiCo', '1898-08-28', 123),
  (5003, 'Adidas', '1949-12-18', 72),
  (5004, 'Rappi', '2015-10-17', 8);

INSERT INTO PATROCINA (NITPATRO, IDSELECCION, VALORPATROCINIO)
VALUES
  (5001, 100, 1500000.00),
  (5001, 200, 1500000.00),
  (5002, 200, 1200000.00),
  (5003, 300, 800000.00);

INSERT INTO CONTRATA (NUMCAMISETA, IDSELECCION, NITMARCA, VALORCONTRATO, FECHAINICIO, FECHAFINAL)
VALUES
  (10, 100, 1005, 5000000.00, '2023-01-01', '2050-12-31'),
  (10, 100, 1003, 5000000.00, '2022-01-01', '2022-12-31'),
  (10, 100, 1001, 5000000.00, '2023-01-01', '2025-12-31'),
  (10, 100, 1004, 5000000.00, '2023-01-01', '2025-12-31'),
  (10, 200, 1002, 4500000.00, '2023-02-01', '2026-01-31'),
  (7, 200, 1002, 4500000.00, '2023-02-01', '2026-01-31'),
  (7, 300, 1003, 3500000.00, '2023-03-01', '2024-12-31');
```